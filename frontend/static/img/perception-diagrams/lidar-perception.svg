<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700" width="900" height="700">
  <style>
    .lidar { fill: #e8eaf6; stroke: #5c6bc0; stroke-width: 2; }
    .processing { fill: #e1f5fe; stroke: #0288d1; stroke-width: 2; }
    .output { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; }
    .text { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #333; }
    .label { font-family: Arial, sans-serif; font-size: 12px; fill: #666; }
    .arrow { stroke: #666; stroke-width: 2; marker-end: url(#arrowhead); }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7"
            refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="450" y="40" class="text" text-anchor="middle" font-size="20">LiDAR Perception Pipeline</text>

  <!-- LiDAR Sensor -->
  <rect x="50" y="80" width="200" height="120" class="lidar" rx="10"/>
  <text x="150" y="110" class="text" text-anchor="middle">LiDAR Sensor</text>
  <text x="150" y="130" class="label" text-anchor="middle">• Time-of-Flight</text>
  <text x="150" y="145" class="label" text-anchor="middle">• 3D Point Clouds</text>
  <text x="150" y="160" class="label" text-anchor="middle">• Angular Resolution</text>
  <text x="150" y="175" class="label" text-anchor="middle">• Range Accuracy</text>

  <!-- Point Cloud Processing -->
  <rect x="325" y="80" width="250" height="120" class="processing" rx="10"/>
  <text x="450" y="110" class="text" text-anchor="middle">Point Cloud Processing</text>
  <text x="450" y="130" class="label" text-anchor="middle">• Filtering & Denoising</text>
  <text x="450" y="145" class="label" text-anchor="middle">• Ground Removal</text>
  <text x="450" y="160" class="label" text-anchor="middle">• Normal Estimation</text>
  <text x="450" y="175" class="label" text-anchor="middle">• Registration & Alignment</text>

  <!-- Segmentation -->
  <rect x="325" y="250" width="250" height="120" class="processing" rx="10"/>
  <text x="450" y="280" class="text" text-anchor="middle">Segmentation</text>
  <text x="450" y="300" class="label" text-anchor="middle">• Clustering (DBSCAN, Euclidean)</text>
  <text x="450" y="315" class="label" text-anchor="middle">• Region Growing</text>
  <text x="450" y="330" class="label" text-anchor="middle">• Plane Detection (RANSAC)</text>
  <text x="450" y="345" class="label" text-anchor="middle">• Object Extraction</text>

  <!-- Object Recognition -->
  <rect x="325" y="420" width="250" height="120" class="processing" rx="10"/>
  <text x="450" y="450" class="text" text-anchor="middle">Object Recognition</text>
  <text x="450" y="470" class="label" text-anchor="middle">• Feature Extraction (FPFH, SHOT)</text>
  <text x="450" y="485" class="label" text-anchor="middle">• Shape Classification</text>
  <text x="450" y="500" class="label" text-anchor="middle">• Machine Learning Models</text>
  <text x="450" y="515" class="label" text-anchor="middle">• Semantic Segmentation</text>

  <!-- Spatial Understanding -->
  <rect x="650" y="250" width="200" height="120" class="output" rx="10"/>
  <text x="750" y="280" class="text" text-anchor="middle">Spatial Understanding</text>
  <text x="750" y="300" class="label" text-anchor="middle">• Occupancy Grids</text>
  <text x="750" y="315" class="label" text-anchor="middle">• 3D Mapping</text>
  <text x="750" y="330" class="label" text-anchor="middle">• Navigation Planning</text>
  <text x="750" y="345" class="label" text-anchor="middle">• Obstacle Detection</text>

  <!-- Environment Modeling -->
  <rect x="650" y="420" width="200" height="120" class="output" rx="10"/>
  <text x="750" y="450" class="text" text-anchor="middle">Environment Modeling</text>
  <text x="750" y="470" class="label" text-anchor="middle">• Static/Dynamic Objects</text>
  <text x="750" y="485" class="label" text-anchor="middle">• Free Space Estimation</text>
  <text x="750" y="500" class="label" text-anchor="middle">• Scene Reconstruction</text>
  <text x="750" y="515" class="label" text-anchor="middle">• Change Detection</text>

  <!-- Arrows -->
  <line x1="250" y1="140" x2="325" y2="140" class="arrow"/>
  <line x1="450" y1="200" x2="450" y2="250" class="arrow"/>
  <line x1="450" y1="370" x2="450" y2="420" class="arrow"/>
  <line x1="575" y1="310" x2="650" y2="310" class="arrow"/>
  <line x1="575" y1="480" x2="650" y2="480" class="arrow"/>

  <!-- LiDAR Icon -->
  <circle cx="100" cy="120" r="25" fill="#d1c4e9" stroke="#512da8" stroke-width="2"/>
  <circle cx="100" cy="120" r="15" fill="#7e57c2"/>
  <text x="100" y="165" class="label" text-anchor="middle">LiDAR</text>

  <!-- Processing Icons -->
  <circle cx="375" cy="120" r="15" fill="#b3e5fc" stroke="#0288d1" stroke-width="2"/>
  <text x="375" y="125" class="text" font-size="12" text-anchor="middle">P</text>

  <circle cx="375" cy="290" r="15" fill="#b3e5fc" stroke="#0288d1" stroke-width="2"/>
  <text x="375" y="295" class="text" font-size="12" text-anchor="middle">S</text>

  <circle cx="375" cy="460" r="15" fill="#b3e5fc" stroke="#0288d1" stroke-width="2"/>
  <text x="375" y="465" class="text" font-size="12" text-anchor="middle">O</text>

  <!-- Output Icons -->
  <circle cx="700" cy="290" r="15" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="700" y="295" class="text" font-size="12" text-anchor="middle">S</text>

  <circle cx="700" cy="460" r="15" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="700" y="465" class="text" font-size="12" text-anchor="middle">E</text>

  <!-- Point Cloud Visualization -->
  <g transform="translate(100, 580)">
    <text x="0" y="0" class="label" font-weight="bold">Point Cloud Visualization:</text>

    <!-- Simulated point cloud -->
    <g>
      <!-- Ground plane points -->
      <circle cx="0" cy="30" r="1" fill="#666"/>
      <circle cx="10" cy="28" r="1" fill="#666"/>
      <circle cx="-10" cy="32" r="1" fill="#666"/>
      <circle cx="20" cy="29" r="1" fill="#666"/>
      <circle cx="-20" cy="31" r="1" fill="#666"/>
      <circle cx="15" cy="33" r="1" fill="#666"/>
      <circle cx="-15" cy="27" r="1" fill="#666"/>

      <!-- Object points (box) -->
      <circle cx="30" cy="20" r="1" fill="#e53935"/>
      <circle cx="32" cy="18" r="1" fill="#e53935"/>
      <circle cx="28" cy="22" r="1" fill="#e53935"/>
      <circle cx="34" cy="20" r="1" fill="#e53935"/>
      <circle cx="30" cy="24" r="1" fill="#e53935"/>
      <circle cx="26" cy="18" r="1" fill="#e53935"/>
      <circle cx="32" cy="22" r="1" fill="#e53935"/>
      <circle cx="28" cy="16" r="1" fill="#e53935"/>
    </g>

    <text x="0" y="50" class="label">Red points = Object, Gray points = Ground</text>
  </g>

  <!-- Legend -->
  <rect x="50" y="650" width="800" height="40" fill="white" stroke="#ccc" rx="5"/>
  <text x="100" y="675" class="label">LiDAR Pipeline: Raw measurements → Point cloud processing → Segmentation → Recognition → Spatial understanding</text>
</svg>